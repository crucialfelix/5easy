<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>5 easy</title>

    <script type="text/javascript" src="./nexusUI.js"></script>
    <script type="text/javascript"
      src="https://tonejs.github.io/build/Tone.min.js">
    </script>
  </head>
  <body>
    <canvas nx="button" id="chord"></canvas>
  </body>
  <script>
    var distortion = new Tone.Distortion(0.6)
    var tremolo = new Tone.Tremolo().start()

    var polySynth = new Tone.PolySynth(4, Tone.Synth).chain(distortion, tremolo, Tone.Master)

    nx.onload = function() {
      chord.on('*', function(data) {
        if (data.press === 1) {
          polySynth.triggerAttack(['C4', 'E4', 'G4', 'B4']);
        }
        if (data.press === 0) {
          polySynth.triggerRelease(['C4', 'E4', 'G4', 'B4'])
        }
        console.log(data);
        // some code using data.press, data.x, and data.y
      });
    };

    // document.querySelector('#chord').addEventListener('mousedown', function(){
    //   polySynth.triggerAttack(['C4', 'E4', 'G4', 'B4'])
    // })
    //
    // document.querySelector('#chord').addEventListener('mouseup', function(){
    //   polySynth.triggerRelease(['C4', 'E4', 'G4', 'B4'])
    // })
  </script>
</html>
